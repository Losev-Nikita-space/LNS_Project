-----------------__ОПИСАНИЕ ЗАДАНИЯ__--------------------
```
-Тестовое задание Python
Устройство работает по serial интерфейсу, либо по UDP. Отвечает на такие команды, как: 
запрос GET_V, ответ – “V_12V”
запрос GET_A, ответ – “A_1A”
запрос GET_S, ответ – “S_DSA123”

Необходимо написать класс для работы с устройством на Python, для возможности работы с ним через import

Сформировать скрипт, который будет с конфигурируемой частотой осуществлять запросы сверху и писать значения в файл лога в json формате.

Конфигурация:
Interface: ‘udp’ #com
BaudRate: 115200
Port: ‘ttyACM0’
Period: 2 # 1 раз в 2 сек
IP: 127.0.0.1
IP_PORT: 10000

Скрипт должен быть запущен в виде сервиса на ПК с ОС  Linux

-Написать парсер логов из пункта 1. Сделать вывод логов по ключевому слову: скрипт парсит логи и выводит в консоль только те, которые совпали с аргументом вызова парсера (аналог grep).

-Сделать сервис мониторинга доступности устройства с привязкой к «Телеграмм» боту. При запросе с бота будет осуществляться запрос на устройство, по ответу которого будет формироваться статусный ответ.

Результаты прислать ссылкой в репозиторий.
```
-----------------------------------------------
-------------__Предварительные требования__-----------------
- Операционная система: Linux (Ubuntu 20.04+)
- Установленный Python 3.10 
- Установленный Git
- Установленный pip3 21
- Права: sudo для установки системного сервиса


------------------------------------------------
__________________________Структура проекта__________________________
```
LNS_project/
├── config/                  Конфигурация
│   └── config.yaml
├── device/                  Основной модуль для работы с устройством
│   ├── __init__.py          Делает каталог device Python-пакетом
│   ├── device_client.py     Клиент
│   ├── udp_driver.py        Драйвер для общения по UDP
│   ├── serial_driver.py     Драйвер для Serial-интерфейса
│   └── exceptions.py        Исключения для обработки ошибок
├── scripts/                 Утилиты для развертывания и запуска
│   ├── device_monitor.py    Скрипт мониторинга
│   ├── service_install.sh   Автоматическая установка сервиса на Linux
│   ├── service_control.sh   Скрипт для администрирования сервиса
│   └──
├── udp_server.py            Эмулятор устройства для тестирования
├── requirements.txt         Зависимости Python
├── setup.py                 Установка пакета как системного приложения
└── device_monitor.log       Лог работы скрипта мониторинга
```
____________________________________________________________________________
__________________________Быстрый старт программы__________________________
____________________________________________________________________________
```
######__1. Клонирование и подготовка__
bash__

 __1.1 Клонируйте репозиторий__

git clone git@github.com:Losev-Nikita-space/LNS_Project.git
cd LNS_Project

 __1.2 Создайте виртуальное окружение__

python3.10 -m venv venv

 __1.3 Активируйте окружение__

source venv/bin/activate

 __1.4 Установите зависимости__

pip install pyyaml pyserial
```

__________2. Запуск тестового режима (без установки сервиса)_____________
```

___Терминал 1 - Эмулятор устройства:___
__bash__

source venv/bin/activate
__python3.10 udp_server.py --host 127.0.0.1 --port 10000__

___Терминал 2 - Монитор устройства:___
bash

source venv/bin/activate

 Тестовый запрос (один раз)
__sudo python3.10 scripts/device_monitor.py --config config/config.yaml --test__

 Запуск монитора
__sudo python3.10 scripts/device_monitor.py --config config/config.yaml__
```

------------------------__3. Установка сервиса__-------------------------
```
__bash__
__Из папки LNS_Project выполните:__

_sudo bash scripts/service_install.sh_

__Скрипт автоматически:__

    -Создаст директории /opt/lns_project/, /etc/lns_project/, /var/log/lns_project/

    -Установит зависимости в виртуальное окружение

    -Настроит systemd сервис lns_project

    -Настроит ротацию логов
```
 ------------------------__4.Управление сервисом__-------------------------
```
__Запуск/остановка__

__sudo systemctl start lns_project__
__sudo systemctl stop lns_project__

__Проверка статуса__

__sudo systemctl status lns_project__

__Просмотр логов__
__sudo journalctl -u lns_project -f__
__Скрипты управления__

__sudo bash scripts/service_control.sh start__    запуск
__sudo bash scripts/service_control.sh stop__     остановка
__sudo bash scripts/service_control.sh status__   статус
__sudo bash scripts/service_control.sh logs__     логи в реальном времени
__sudo bash scripts/service_control.sh test__     тестовый запрос
```
------------------------__5.Проверка работы системы__-----------------------------
```
__5.1 Проверка сервиса__
```
bash

__Сервис должен быть активен__
__sudo systemctl status lns_project__
__✅ Должно быть: Active: active (running)__
```
__5.2 Проверка логов__
```
bash

__Логи systemd__
__sudo journalctl -u lns_project -n 10__

__Логи приложения__
__ls -la /var/log/lns_project/__
__tail -f /var/log/lns_project/device_data.json__
```
__5.3 Проверка данных__
```
bash

__Тестовый запрос, возвращает JSON__
__sudo bash scripts/service_control.sh test__
```


```
-Расположение: scripts/log_grep.py
```
----------__Пример команд:__
```
```
python3.10 scripts/log_grep.py INFO  Мониторинг работы сервиса
python3.10 scripts/log_grep.py ERROR Проверка на наличие ошибок
python3.10 scripts/log_grep.py V_12V Анализ данных с устройства
python3.10 scripts/log_grep.py "22:39" Поиск конкретных временных меток
-------------------------------------------------------------------------
```
```
